<!DOCTYPE html>
<html>
<head>
    <title>Contact Form Submissions</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .submission { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .field { margin: 5px 0; }
        .label { font-weight: bold; }
    </style>
</head>
<body>
    <h1>Contact Form Submissions</h1>
    <div id="submissions"></div>

    <script>
        fetch('/api/all_contact_submissions.json')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('submissions');
                
                if (data && data.length > 0) {
                    data.reverse().forEach(submission => {
                        const div = document.createElement('div');
                        div.className = 'submission';
                        div.innerHTML = `
                            <div class="field"><span class="label">Timestamp:</span> ${submission.timestamp}</div>
                            <div class="field"><span class="label">Name:</span> ${submission.name}</div>
                            <div class="field"><span class="label">Email:</span> ${submission.email}</div>
                            <div class="field"><span class="label">Phone:</span> ${submission.phone || 'Not provided'}</div>
                            <div class="field"><span class="label">Subject:</span> ${submission.subject}</div>
                            <div class="field"><span class="label">Message:</span> ${submission.message}</div>
                            <hr>
                        `;
                        container.appendChild(div);
                    });
                } else {
                    container.innerHTML = '<p>No submissions yet.</p>';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('submissions').innerHTML = '<p>Error loading submissions.</p>';
            });
    </script>
</body>
</html>